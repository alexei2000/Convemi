<script>
  const data = [
    {
      title: "Inicio",
      link: "https://convemi.gconex.com/",
      childrens: [],
    },
    {
      title: "Congreso",
      childrens: [
        { title: "Invitación", link: "#" },
        {
          title: "Programa",
          link: "https://convemi.gconex.com/mod/page/view.php?id=33941",
        },
      ],
    },
    {
      title: "Certificados",
      childrens: [
        { title: "Certificado de Asistencia", link: "#" },
        { title: "Certificado de Cursos", link: "#" },
        { title: "Certificado de Ponente", link: "#" },
        { title: "Certificado de Facilitador", link: "#" },
      ],
    },
    {
      title: "Memorias",
      childrens: [
        { title: "Congreso Día Uno", link: "#" },
        { title: "Congreso Día Dos", link: "#" },
        { title: "Congreso Día Tres", link: "#" },
      ],
    },
  ];
  //elemento donde se va a insertar todo
  const nav = document.querySelector(
    "#header > .header-menubar > .container > .navbar > ul"
  );

  const containerMenu = document.createElement("div");
  containerMenu.className = "menu-container";

  data.forEach(({ title, link, childrens }) => {
    const Tab = document.createElement("li");
    const Link = document.createElement("a");
    Link.innerHTML = title;
    if (link) {
      Link.setAttribute("href", link);
    }

    const SubMenu = document.createElement("div");
    if (childrens.length !== 0) {
      SubMenu.className = "sub-menu-container";
      Tab.addEventListener("mouseover", () => {
        SubMenu.className = "sub-menu-container visible";
      });
      Tab.addEventListener("mouseout", () => {
        SubMenu.className = "sub-menu-container";
      });
      //sub-menu
      childrens.forEach(({ title, link }) => {
        const SubTab = document.createElement("li");
        const SubLink = document.createElement("a");
        SubLink.setAttribute("href", link);
        SubLink.innerHTML = title;
        SubTab.appendChild(SubLink);
        SubMenu.appendChild(SubTab);
      });
    }

    Tab.appendChild(Link);
    if (childrens.length !== 0) {
      Tab.appendChild(SubMenu);
    }
    containerMenu.appendChild(Tab);
  });

  nav.insertAdjacentElement("afterbegin", containerMenu);
</script>
